import{S as ht,i as pt,s as bt,e as c,c as i,a as d,d as o,b as e,g as P,E as tt,v as mt,t as O,k as _,h as V,m as y,J as t,Y as Q,K as W,G as ft,f as $}from"../../chunks/index-0296d445.js";function vt(k){let n,h,p,u,a,s,E,x,b,T,f,g,l,U,M,N,I,j,w,A,m,D,F,H;return{c(){n=c("h1"),h=O("\u0412\u043E\u0439\u0442\u0438"),p=_(),u=c("br"),a=_(),s=c("form"),E=c("div"),x=c("label"),b=O("\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),T=_(),f=c("input"),g=_(),l=c("div"),U=c("label"),M=O("\u041F\u0430\u0440\u043E\u043B\u044C"),N=_(),I=c("input"),j=_(),w=c("br"),A=_(),m=c("button"),D=O("\u0412\u043E\u0439\u0442\u0438"),this.h()},l(r){n=i(r,"H1",{class:!0});var v=d(n);h=V(v,"\u0412\u043E\u0439\u0442\u0438"),v.forEach(o),p=y(r),u=i(r,"BR",{}),a=y(r),s=i(r,"FORM",{id:!0,class:!0});var L=d(s);E=i(L,"DIV",{class:!0});var B=d(E);x=i(B,"LABEL",{for:!0,class:!0});var X=d(x);b=V(X,"\u0418\u043C\u044F \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u044F"),X.forEach(o),T=y(B),f=i(B,"INPUT",{type:!0,class:!0}),B.forEach(o),g=y(L),l=i(L,"DIV",{class:!0});var R=d(l);U=i(R,"LABEL",{for:!0,class:!0});var C=d(U);M=V(C,"\u041F\u0430\u0440\u043E\u043B\u044C"),C.forEach(o),N=y(R),I=i(R,"INPUT",{type:!0,class:!0}),j=y(R),w=i(R,"BR",{}),R.forEach(o),A=y(L),m=i(L,"BUTTON",{type:!0,class:!0});var q=d(m);D=V(q,"\u0412\u043E\u0439\u0442\u0438"),q.forEach(o),L.forEach(o),this.h()},h(){e(n,"class","mx-auto center text-center"),e(x,"for","text"),e(x,"class","form-label text-left"),e(f,"type","text"),e(f,"class","form-text form-control"),e(E,"class","mb-3 text-left"),e(U,"for","exampleInputPassword1"),e(U,"class","form-label"),e(I,"type","password"),e(I,"class","form-control"),e(l,"class","mb-3"),e(m,"type","button"),e(m,"class","btn"),e(s,"id","form"),e(s,"class","form my-3 w-50 text-left mx-auto")},m(r,v){P(r,n,v),t(n,h),P(r,p,v),P(r,u,v),P(r,a,v),P(r,s,v),t(s,E),t(E,x),t(x,b),t(E,T),t(E,f),Q(f,k[0]),t(s,g),t(s,l),t(l,U),t(U,M),t(l,N),t(l,I),Q(I,k[1]),t(l,j),t(l,w),t(s,A),t(s,m),t(m,D),F||(H=[W(f,"input",k[6]),W(I,"input",k[7]),W(m,"click",k[3])],F=!0)},p(r,v){v&1&&f.value!==r[0]&&Q(f,r[0]),v&2&&I.value!==r[1]&&Q(I,r[1])},d(r){r&&o(n),r&&o(p),r&&o(u),r&&o(a),r&&o(s),F=!1,ft(H)}}}function _t(k){let n,h,p,u,a,s,E,x,b,T,f,g,l,U,M,N,I,j,w,A,m,D,F,H,r,v,L,B,X,R,C,q,Z,et;return{c(){n=c("center"),h=c("h1"),p=O("\u0412\u044B \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D\u044B!"),u=_(),a=c("div"),s=c("button"),E=O("\u0417\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u043E\u043A\u043E\u0448\u043A\u043E"),x=_(),b=c("div"),T=c("div"),f=c("div"),g=c("div"),l=c("h5"),U=O("\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u043E\u043A\u043E\u0448\u043A\u0430"),M=_(),N=c("button"),I=_(),j=c("div"),w=O("..."),A=_(),m=c("div"),D=c("button"),F=O("\u0417\u0430\u043A\u0440\u044B\u0442\u044C"),H=_(),r=c("button"),v=O("\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),L=_(),B=c("button"),X=O("\u0425\u0442\u043E \u044F?"),R=_(),C=c("button"),q=O("\u0412\u044B\u0439\u0442\u0438"),this.h()},l(K){n=i(K,"CENTER",{});var G=d(n);h=i(G,"H1",{});var lt=d(h);p=V(lt,"\u0412\u044B \u0430\u0432\u0442\u043E\u0440\u0438\u0437\u043E\u0432\u0430\u043D\u044B!"),lt.forEach(o),u=y(G),a=i(G,"DIV",{});var S=d(a);s=i(S,"BUTTON",{type:!0,class:!0,"data-bs-toggle":!0,"data-bs-target":!0});var st=d(s);E=V(st,"\u0417\u0430\u043F\u0443\u0441\u0442\u0438\u0442\u044C \u043E\u043A\u043E\u0448\u043A\u043E"),st.forEach(o),x=y(S),b=i(S,"DIV",{class:!0,style:!0,id:!0,tabindex:!0,"aria-labelledby":!0,"aria-hidden":!0,"data-backdrop":!0});var at=d(b);T=i(at,"DIV",{class:!0,style:!0});var ot=d(T);f=i(ot,"DIV",{class:!0});var J=d(f);g=i(J,"DIV",{class:!0});var Y=d(g);l=i(Y,"H5",{class:!0,id:!0});var rt=d(l);U=V(rt,"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A \u043E\u043A\u043E\u0448\u043A\u0430"),rt.forEach(o),M=y(Y),N=i(Y,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),d(N).forEach(o),Y.forEach(o),I=y(J),j=i(J,"DIV",{class:!0});var nt=d(j);w=V(nt,"..."),nt.forEach(o),A=y(J),m=i(J,"DIV",{class:!0});var z=d(m);D=i(z,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0});var ct=d(D);F=V(ct,"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"),ct.forEach(o),H=y(z),r=i(z,"BUTTON",{type:!0,class:!0});var it=d(r);v=V(it,"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C"),it.forEach(o),z.forEach(o),J.forEach(o),ot.forEach(o),at.forEach(o),L=y(S),B=i(S,"BUTTON",{type:!0,class:!0});var ut=d(B);X=V(ut,"\u0425\u0442\u043E \u044F?"),ut.forEach(o),R=y(S),C=i(S,"BUTTON",{type:!0,class:!0});var dt=d(C);q=V(dt,"\u0412\u044B\u0439\u0442\u0438"),dt.forEach(o),S.forEach(o),G.forEach(o),this.h()},h(){e(s,"type","button"),e(s,"class","btn btn-primary"),e(s,"data-bs-toggle","modal"),e(s,"data-bs-target","#exampleModal"),e(l,"class","modal-title"),e(l,"id","exampleModalLabel"),e(N,"type","button"),e(N,"class","btn-close"),e(N,"data-bs-dismiss","modal"),e(N,"aria-label","Close"),e(g,"class","modal-header"),e(j,"class","modal-body"),e(D,"type","button"),e(D,"class","btn btn-secondary"),e(D,"data-bs-dismiss","modal"),e(r,"type","button"),e(r,"class","btn btn-primary"),e(m,"class","modal-footer"),e(f,"class","modal-content"),e(T,"class","modal-dialog"),$(T,"margin-top","80px"),$(T,"margin-bottom","40px"),e(b,"class","modal fade"),$(b,"position","abssolute"),e(b,"id","exampleModal"),e(b,"tabindex","-1"),e(b,"aria-labelledby","exampleModalLabel"),e(b,"aria-hidden","true"),e(b,"data-backdrop","false"),e(B,"type","button"),e(B,"class","btn"),e(C,"type","button"),e(C,"class","btn")},m(K,G){P(K,n,G),t(n,h),t(h,p),t(n,u),t(n,a),t(a,s),t(s,E),t(a,x),t(a,b),t(b,T),t(T,f),t(f,g),t(g,l),t(l,U),t(g,M),t(g,N),t(f,I),t(f,j),t(j,w),t(f,A),t(f,m),t(m,D),t(D,F),t(m,H),t(m,r),t(r,v),t(a,L),t(a,B),t(B,X),t(a,R),t(a,C),t(C,q),Z||(et=[W(B,"click",k[4]),W(C,"click",k[5])],Z=!0)},p:tt,d(K){K&&o(n),Z=!1,ft(et)}}}function yt(k){let n;function h(a,s){return a[2]?_t:vt}let p=h(k),u=p(k);return{c(){n=c("div"),u.c(),this.h()},l(a){n=i(a,"DIV",{class:!0});var s=d(n);u.l(s),s.forEach(o),this.h()},h(){e(n,"class","container svelte-x3itve")},m(a,s){P(a,n,s),u.m(n,null)},p(a,[s]){p===(p=h(a))&&u?u.p(a,s):(u.d(1),u=p(a),u&&(u.c(),u.m(n,null)))},i:tt,o:tt,d(a){a&&o(n),u.d()}}}function Et(k,n,h){let p,u,a,s=!1;mt(()=>{fetch("http://localhost:5000/api/getsession",{credentials:"include"}).then(l=>l.json()).then(l=>{console.log(l),l.login==!0?h(2,s=!0):(h(2,s=!1),E())}).catch(l=>{console.log(l)})});const E=()=>{fetch("http://localhost:5000/api/getcsrf",{credentials:"include"}).then(l=>{a=l.headers.get(["X-CSRFToken"])}).catch(l=>{console.log(l)})},x=()=>{fetch("http://localhost:5000/api/login",{method:"POST",headers:{Accept:"application/json, text/javascript, */*; q=0.01","Content-Type":"application/json","X-CSRFToken":a},credentials:"include",body:JSON.stringify({username:p,password:u})}).then(l=>l.json()).then(l=>{console.log(l),l.login==!0&&h(2,s=!0)}).catch(l=>{console.log(l)})},b=()=>{fetch("http://localhost:5000/api/data",{method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":a},credentials:"include"}).then(l=>l.json()).then(l=>{console.log(l),alert(`Welcome, ${l.username}!`)}).catch(l=>{console.log(l)})},T=()=>{fetch("http://localhost:5000/api/logout",{credentials:"include"}).then(()=>{h(2,s=!1)}).catch(l=>{console.log(l)})};function f(){p=this.value,h(0,p)}function g(){u=this.value,h(1,u)}return[p,u,s,x,b,T,f,g]}class gt extends ht{constructor(n){super();pt(this,n,Et,yt,bt,{})}}export{gt as default};
